{
  "expo": {
    "name": "TailTracker",
    "slug": "tailtracker",
    "version": "1.0.0",
    "orientation": "portrait",
    "icon": "./assets/images/icon.png",
    "scheme": "tailtracker",
    "userInterfaceStyle": "automatic",
    "splash": {
      "image": "./assets/images/splash.png",
      "resizeMode": "contain",
      "backgroundColor": "#ffffff"
    },
    "assetBundlePatterns": [
      "**/*"
    ],
    "ios": {
      "supportsTablet": true,
      "bundleIdentifier": "com.tailtracker.app",
      "buildNumber": "1",
      "deploymentTarget": "14.0",
      "requireFullScreen": false,
      "config": {
        "usesNonExemptEncryption": false
      },
      "associatedDomains": [
        "applinks:tailtracker.app",
        "applinks:www.tailtracker.app"
      ],
      "entitlements": {
        "com.apple.developer.applesignin": ["Default"],
        "com.apple.developer.in-app-payments": true,
        "com.apple.developer.location.push": true,
        "com.apple.developer.usernotifications.time-sensitive": true,
        "aps-environment": "production"
      },
      "infoPlist": {
        "NSLocationWhenInUseUsageDescription": "TailTracker helps you track your pets' locations and find them if they get lost. Location access is essential for pet safety features including safe zone monitoring and GPS tracking.",
        "NSLocationAlwaysAndWhenInUseUsageDescription": "TailTracker monitors your pets' safe zones and sends instant alerts if they wander outside designated areas. This background location access ensures your pets' safety even when the app isn't actively open.",
        "NSLocationAlwaysUsageDescription": "TailTracker provides continuous pet safety monitoring by tracking your pets' locations in designated safe zones. Background location access allows us to send immediate alerts if your pet leaves a safe area, helping prevent them from getting lost.",
        "NSCameraUsageDescription": "TailTracker needs camera access to take photos of your pets for identification purposes and to create their profiles. Photos help with pet identification and can be used for lost pet alerts.",
        "NSPhotoLibraryUsageDescription": "TailTracker needs access to your photo library to select existing photos of your pets for their profiles and identification purposes.",
        "NSPhotoLibraryAddUsageDescription": "TailTracker can save photos of your pets to your photo library for backup and sharing purposes.",
        "NSMicrophoneUsageDescription": "TailTracker may need microphone access for video recording features when creating pet profiles or documenting pet behavior.",
        "NSFaceIDUsageDescription": "TailTracker uses Face ID to secure access to your pets' sensitive information and location data, ensuring only you can access your pet tracking data.",
        "NSAppTransportSecurity": {
          "NSAllowsArbitraryLoads": false,
          "NSExceptionDomains": {
            "tailtracker.app": {
              "NSExceptionRequiresForwardSecrecy": false,
              "NSExceptionMinimumTLSVersion": "TLSv1.2",
              "NSExceptionAllowsInsecureHTTPLoads": false,
              "NSIncludesSubdomains": true
            }
          }
        },
        "ITSAppUsesNonExemptEncryption": false,
        "NSSupportsLiveActivities": true,
        "NSSupportsLiveActivitiesFrequentUpdates": true,
        "BGTaskSchedulerPermittedIdentifiers": [
          "$(PRODUCT_BUNDLE_IDENTIFIER).background-location",
          "$(PRODUCT_BUNDLE_IDENTIFIER).background-refresh"
        ],
        "UIBackgroundModes": [
          "location",
          "background-processing",
          "background-fetch",
          "remote-notification"
        ],
        "LSApplicationQueriesSchemes": [
          "tel",
          "mailto",
          "maps",
          "comgooglemaps",
          "waze"
        ],
        "CFBundleURLTypes": [
          {
            "CFBundleURLName": "com.tailtracker.app",
            "CFBundleURLSchemes": ["tailtracker"]
          }
        ]
      }
    },
    "android": {
      "adaptiveIcon": {
        "foregroundImage": "./assets/images/adaptive-icon.png",
        "backgroundColor": "#ffffff"
      },
      "package": "com.tailtracker.app",
      "versionCode": 1,
      "compileSdkVersion": 34,
      "targetSdkVersion": 34,
      "minSdkVersion": 26,
      "permissions": [
        "ACCESS_COARSE_LOCATION",
        "ACCESS_FINE_LOCATION",
        "ACCESS_BACKGROUND_LOCATION",
        "CAMERA",
        "READ_EXTERNAL_STORAGE",
        "WRITE_EXTERNAL_STORAGE",
        "RECORD_AUDIO",
        "VIBRATE",
        "RECEIVE_BOOT_COMPLETED",
        "WAKE_LOCK",
        "INTERNET",
        "ACCESS_NETWORK_STATE",
        "FOREGROUND_SERVICE",
        "FOREGROUND_SERVICE_LOCATION"
      ],
      "config": {
        "googleMaps": {
          "apiKey": "${GOOGLE_MAPS_API_KEY}"
        }
      },
      "googleServicesFile": "./google-services.json"
    },
    "web": {
      "bundler": "metro",
      "output": "static",
      "favicon": "./assets/images/favicon.png"
    },
    "plugins": [
      [
        "expo-build-properties",
        {
          "android": {
            "enableProguardInReleaseBuilds": true,
            "enableShrinkResourcesInReleaseBuilds": true,
            "compileSdkVersion": 34,
            "targetSdkVersion": 34,
            "minSdkVersion": 26,
            "buildToolsVersion": "34.0.0",
            "proguardFiles": ["proguard-android-optimize.txt", "proguard-rules.pro"]
          },
          "ios": {
            "deploymentTarget": "14.0"
          }
        }
      ],
      [
        "expo-location",
        {
          "locationAlwaysAndWhenInUsePermission": "TailTracker monitors your pets' safe zones and sends instant alerts if they wander outside designated areas. This background location access ensures your pets' safety even when the app isn't actively open.",
          "locationAlwaysPermission": "TailTracker provides continuous pet safety monitoring by tracking your pets' locations in designated safe zones. Background location access allows us to send immediate alerts if your pet leaves a safe area.",
          "locationWhenInUsePermission": "TailTracker helps you track your pets' locations and find them if they get lost. Location access is essential for pet safety features.",
          "isAndroidBackgroundLocationEnabled": true,
          "isAndroidForegroundServiceEnabled": true
        }
      ],
      [
        "expo-camera",
        {
          "cameraPermission": "TailTracker needs camera access to take photos of your pets for identification purposes and profile creation.",
          "microphonePermission": "TailTracker may need microphone access for video recording features when documenting pet behavior.",
          "recordAudioAndroid": false
        }
      ],
      [
        "expo-image-picker",
        {
          "photosPermission": "TailTracker needs access to your photo library to select existing photos of your pets for their profiles.",
          "cameraPermission": "TailTracker needs camera access to take photos of your pets for identification purposes."
        }
      ],
      [
        "expo-notifications",
        {
          "icon": "./assets/images/notification-icon.png",
          "color": "#ffffff",
          "sounds": [
            "./assets/sounds/notification.wav"
          ]
        }
      ],
      [
        "expo-dev-client",
        {
          "addGeneratedScheme": false
        }
      ],
      [
        "react-native-purchases",
        {
          "appleApiKey": "${REVENUECAT_APPLE_API_KEY}"
        }
      ]
    ],
    "experiments": {
      "typedRoutes": true
    },
    "extra": {
      "router": {
        "origin": false
      },
      "eas": {
        "projectId": "${EAS_PROJECT_ID}"
      }
    }
  }
}