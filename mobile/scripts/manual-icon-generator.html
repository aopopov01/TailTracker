<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual TailTracker Icon Generator</title>
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .icon-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .icon-item {
            text-align: center;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            background: #f8f9fa;
        }
        .icon-item img {
            border-radius: 8px;
            margin-bottom: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }
        .ios img { border-radius: 22% !important; }
        .android-round img { border-radius: 50% !important; }
        .download-btn {
            background: #007AFF;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
            font-size: 12px;
        }
        .download-btn:hover { background: #0056b3; }
        .status {
            padding: 12px;
            border-radius: 6px;
            margin: 10px 0;
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        .generate-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            margin: 20px 0;
        }
        .generate-btn:hover { background: #218838; }
        h2 { color: #333; margin-top: 30px; }
        .instructions {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üêæ TailTracker Manual Icon Generator</h1>
        
        <div class="status">
            <strong>Manual SVG to PNG Conversion</strong><br>
            This tool generates PNG icons from the TailTracker SVG logo and allows manual download.
        </div>
        
        <div class="instructions">
            <h3>Instructions:</h3>
            <ol>
                <li>Click "Generate All Icons" to create PNG versions</li>
                <li>Right-click each icon and select "Save image as..."</li>
                <li>Save with the exact filename shown below each icon</li>
                <li>Place files in the correct directories as shown in the folder structure</li>
            </ol>
        </div>
        
        <button class="generate-btn" onclick="generateAllIcons()">
            üöÄ Generate All Icons
        </button>
        
        <div id="status-message"></div>
        
        <h2>üì± iOS Icons</h2>
        <div id="ios-icons" class="icon-grid"></div>
        
        <h2>ü§ñ Android Icons - Standard</h2>
        <div id="android-icons" class="icon-grid"></div>
        
        <h2>ü§ñ Android Icons - Round</h2>
        <div id="android-round-icons" class="icon-grid"></div>
        
        <h2>üé® Splash Screens</h2>
        <div id="splash-icons" class="icon-grid"></div>
        
        <div class="instructions" style="margin-top: 30px;">
            <h3>üìÅ File Placement Guide:</h3>
            <strong>iOS Icons:</strong> Save to <code>assets/icons/ios/</code><br>
            <strong>Android Standard:</strong> Save to <code>android/app/src/main/res/mipmap-{density}/ic_launcher.png</code><br>
            <strong>Android Round:</strong> Save to <code>android/app/src/main/res/mipmap-{density}/ic_launcher_round.png</code><br>
            <strong>Splash Screens:</strong> Save to <code>assets/splash/</code>
        </div>
    </div>

    <script>
        // TailTracker SVG embedded
        const svgContent = `<svg width="256" height="256" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <radialGradient id="dogPawGradient" cx="0.3" cy="0.3" r="0.8">
      <stop offset="0%" stop-color="#FF8A65"/>
      <stop offset="40%" stop-color="#FF7043"/>
      <stop offset="100%" stop-color="#D84315"/>
    </radialGradient>
    <radialGradient id="catPawGradient" cx="0.3" cy="0.3" r="0.8">
      <stop offset="0%" stop-color="#81C784"/>
      <stop offset="40%" stop-color="#66BB6A"/>
      <stop offset="100%" stop-color="#388E3C"/>
    </radialGradient>
    <radialGradient id="birdClawGradient" cx="0.3" cy="0.3" r="0.8">
      <stop offset="0%" stop-color="#FFB74D"/>
      <stop offset="40%" stop-color="#FFA726"/>
      <stop offset="100%" stop-color="#F57C00"/>
    </radialGradient>
    <filter id="dropShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="4" stdDeviation="3" flood-opacity="0.3" flood-color="#333"/>
    </filter>
    <filter id="innerShadow" x="-50%" y="-50%" width="200%" height="200%">
      <feOffset dx="0" dy="2"/>
      <feGaussianBlur stdDeviation="2" result="offset-blur"/>
      <feFlood flood-color="#000000" flood-opacity="0.2"/>
      <feComposite in2="offset-blur" operator="in"/>
      <feComposite in2="SourceGraphic" operator="over"/>
    </filter>
  </defs>
  <circle cx="128" cy="128" r="120" fill="#FFFFFF" stroke="none" filter="url(#dropShadow)"/>
  <g transform="translate(128, 128)">
    <ellipse cx="0" cy="20" rx="45" ry="35" fill="url(#dogPawGradient)" filter="url(#innerShadow)"/>
    <circle cx="-30" cy="-15" r="18" fill="url(#dogPawGradient)" filter="url(#innerShadow)"/>
    <circle cx="-10" cy="-25" r="20" fill="url(#dogPawGradient)" filter="url(#innerShadow)"/>
    <circle cx="10" cy="-25" r="20" fill="url(#dogPawGradient)" filter="url(#innerShadow)"/>
    <circle cx="30" cy="-15" r="18" fill="url(#dogPawGradient)" filter="url(#innerShadow)"/>
    <g transform="translate(0, 10) scale(0.6)">
      <ellipse cx="0" cy="15" rx="30" ry="22" fill="url(#catPawGradient)"/>
      <circle cx="-18" cy="-8" r="11" fill="url(#catPawGradient)"/>
      <circle cx="-6" cy="-15" r="12" fill="url(#catPawGradient)"/>
      <circle cx="6" cy="-15" r="12" fill="url(#catPawGradient)"/>
      <circle cx="18" cy="-8" r="11" fill="url(#catPawGradient)"/>
      <g transform="translate(0, 5) scale(0.7)">
        <circle cx="0" cy="8" r="12" fill="url(#birdClawGradient)"/>
        <ellipse cx="-8" cy="-5" rx="4" ry="10" fill="url(#birdClawGradient)" transform="rotate(-20)"/>
        <ellipse cx="0" cy="-8" rx="4" ry="12" fill="url(#birdClawGradient)"/>
        <ellipse cx="8" cy="-5" rx="4" ry="10" fill="url(#birdClawGradient)" transform="rotate(20)"/>
        <ellipse cx="0" cy="15" rx="3" ry="8" fill="url(#birdClawGradient)"/>
        <circle cx="-8" cy="-12" r="2" fill="#F57C00"/>
        <circle cx="0" cy="-16" r="2" fill="#F57C00"/>
        <circle cx="8" cy="-12" r="2" fill="#F57C00"/>
        <circle cx="0" cy="20" r="1.5" fill="#F57C00"/>
      </g>
    </g>
  </g>
  <circle cx="128" cy="128" r="118" fill="none" stroke="url(#dogPawGradient)" stroke-width="2" opacity="0.6"/>
</svg>`;

        const iosIcons = [
            { name: 'Icon-1024.png', size: 1024, display: 120 },
            { name: 'Icon-180.png', size: 180, display: 90 },
            { name: 'Icon-120.png', size: 120, display: 80 },
            { name: 'Icon-167.png', size: 167, display: 85 },
            { name: 'Icon-152.png', size: 152, display: 85 },
            { name: 'Icon-76.png', size: 76, display: 76 }
        ];

        const androidIcons = [
            { name: 'ic_launcher.png', size: 192, density: 'xxxhdpi', display: 96 },
            { name: 'ic_launcher.png', size: 144, density: 'xxhdpi', display: 72 },
            { name: 'ic_launcher.png', size: 96, density: 'xhdpi', display: 64 },
            { name: 'ic_launcher.png', size: 72, density: 'hdpi', display: 60 },
            { name: 'ic_launcher.png', size: 48, density: 'mdpi', display: 48 }
        ];

        const splashScreens = [
            { name: 'splash.png', size: 2048, background: '#FFFFFF', display: 100 },
            { name: 'splash-dark.png', size: 2048, background: '#1A1A1A', display: 100 }
        ];

        function svgToPngCanvas(svgString, width, height, backgroundColor = null) {
            return new Promise((resolve) => {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                canvas.width = width;
                canvas.height = height;

                if (backgroundColor) {
                    ctx.fillStyle = backgroundColor;
                    ctx.fillRect(0, 0, width, height);
                }

                const img = new Image();
                const svgBlob = new Blob([svgString], { type: 'image/svg+xml;charset=utf-8' });
                const url = URL.createObjectURL(svgBlob);

                img.onload = function() {
                    ctx.drawImage(img, 0, 0, width, height);
                    URL.revokeObjectURL(url);
                    
                    canvas.toBlob(resolve, 'image/png', 1.0);
                };
                img.onerror = function() {
                    console.error('Failed to load SVG');
                    resolve(null);
                };
                img.src = url;
            });
        }

        function createSplashCanvas(logoDataUrl, size, backgroundColor) {
            return new Promise((resolve) => {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                canvas.width = size;
                canvas.height = size;

                ctx.fillStyle = backgroundColor;
                ctx.fillRect(0, 0, size, size);

                const img = new Image();
                img.onload = function() {
                    const logoSize = size * 0.3;
                    const x = (size - logoSize) / 2;
                    const y = (size - logoSize) / 2;
                    ctx.drawImage(img, x, y, logoSize, logoSize);
                    
                    canvas.toBlob(resolve, 'image/png', 1.0);
                };
                img.src = logoDataUrl;
            });
        }

        function createIconElement(blob, icon, className, folder) {
            const div = document.createElement('div');
            div.className = `icon-item ${className}`;
            
            const img = document.createElement('img');
            img.src = URL.createObjectURL(blob);
            img.width = icon.display || 80;
            img.height = icon.display || 80;
            img.alt = icon.name;
            
            const label = document.createElement('div');
            label.innerHTML = `<strong>${icon.name}</strong><br>
                ${icon.size}x${icon.size}<br>
                <small>${icon.density || folder}</small>`;
            
            const instructions = document.createElement('div');
            instructions.style.fontSize = '11px';
            instructions.style.color = '#666';
            instructions.style.marginTop = '5px';
            
            if (icon.density) {
                instructions.textContent = `Save to: mipmap-${icon.density}/`;
            } else {
                instructions.textContent = `Save to: ${folder}/`;
            }
            
            div.appendChild(img);
            div.appendChild(label);
            div.appendChild(instructions);
            
            return div;
        }

        async function generateAllIcons() {
            document.getElementById('status-message').innerHTML = '<div class="status">‚è≥ Generating icons...</div>';
            
            // Clear previous icons
            document.getElementById('ios-icons').innerHTML = '';
            document.getElementById('android-icons').innerHTML = '';
            document.getElementById('android-round-icons').innerHTML = '';
            document.getElementById('splash-icons').innerHTML = '';
            
            try {
                // Generate iOS icons
                for (const icon of iosIcons) {
                    const blob = await svgToPngCanvas(svgContent, icon.size, icon.size, '#FFFFFF');
                    if (blob) {
                        const element = createIconElement(blob, icon, 'ios', 'assets/icons/ios');
                        document.getElementById('ios-icons').appendChild(element);
                    }
                }

                // Generate Android standard icons
                for (const icon of androidIcons) {
                    const blob = await svgToPngCanvas(svgContent, icon.size, icon.size, null);
                    if (blob) {
                        const element = createIconElement(blob, icon, 'android', 'android/app/src/main/res');
                        document.getElementById('android-icons').appendChild(element);
                    }
                }

                // Generate Android round icons
                for (const icon of androidIcons) {
                    const roundIcon = {...icon, name: 'ic_launcher_round.png'};
                    const blob = await svgToPngCanvas(svgContent, icon.size, icon.size, null);
                    if (blob) {
                        const element = createIconElement(blob, roundIcon, 'android-round', 'android/app/src/main/res');
                        document.getElementById('android-round-icons').appendChild(element);
                    }
                }

                // Generate splash screens
                const logoBlob = await svgToPngCanvas(svgContent, 256, 256, null);
                const logoDataUrl = URL.createObjectURL(logoBlob);
                
                for (const splash of splashScreens) {
                    const blob = await createSplashCanvas(logoDataUrl, splash.size, splash.background);
                    if (blob) {
                        const element = createIconElement(blob, splash, 'splash', 'assets/splash');
                        document.getElementById('splash-icons').appendChild(element);
                    }
                }

                document.getElementById('status-message').innerHTML = '<div class="status" style="background: #d4edda; color: #155724; border-color: #c3e6cb;">‚úÖ All icons generated! Right-click each image and "Save image as..." with the exact filename shown.</div>';
                
            } catch (error) {
                console.error('Error generating icons:', error);
                document.getElementById('status-message').innerHTML = '<div class="status" style="background: #f8d7da; color: #721c24; border-color: #f5c6cb;">‚ùå Error generating icons. Please try refreshing the page.</div>';
            }
        }

        // Auto-generate on page load
        window.addEventListener('load', () => {
            setTimeout(generateAllIcons, 1000);
        });
    </script>
</body>
</html>